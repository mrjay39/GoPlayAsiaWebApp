@using System.Collections.ObjectModel;
@using GoplayasiaBlazor.Models;
@using GoplayasiaBlazor.Models.Constants;

 <div id="singleDiceContainer" class="container p-0 overflow-auto" style="max-height: 190px;">
    @if (User_PerDice_Bets != null)
    {
        <Virtualize Items="User_PerDice_Bets" Context="_items">

            @if (_items.BetValue.Contains(Settings.Constants.FirstDice))
            {
                <div class="container first-dice pl-1 pr-1 @(_items.BetValue == (Settings.Constants.FirstDice + FirstDice_Result) ? "win" : "")">
                    <div class="d-flex align-items-center">
                        <p class="flex"><span class="col header-text p-0">Single Dice: </span></p>
                        <div class="d-flex width-31">
                            <p class="flex"><span class="col yellow p-1 m-1 rounded-sm text-white">@_items.BetValue.Last()</span></p>
                        </div>
                        <div class="d-flex">
                            <p class="betAmount"><span class="col">@_items.BetAmount</span></p>
                            <p class="winAmount"><span class="col">@_items.WinableAmount</span></p>
                        </div>
                    </div>
                </div>
            }
            else if (_items.BetValue.Contains(Settings.Constants.SecondDice))
            {
                <div class="container second-dice pl-1 pr-1 @(_items.BetValue == (Settings.Constants.SecondDice + SecondDice_Result) ? "win" : "")">
                    <div class="d-flex align-items-center">
                        <p class="flex"><span class="col header-text p-0">Single Dice: </span></p>
                        <div class="d-flex width-31">
                            <p class="flex"><span class="col blue p-1 m-1 rounded-sm text-white">@_items.BetValue.Last()</span></p>
                        </div>
                        <div class="d-flex">
                            <p class="betAmount"><span class="col">@_items.BetAmount</span></p>
                            <p class="winAmount"><span class="col">@_items.WinableAmount</span></p>
                        </div>
                    </div>
                </div>
            }
            else if (_items.BetValue.Contains(Settings.Constants.ThirdDice))
            {
                <div class="container third-dice pl-1 pr-1 @(_items.BetValue == (Settings.Constants.ThirdDice + ThirdDice_Result) ? "win" : "")">
                    <div class="d-flex align-items-center">
                        <p class="flex"><span class="col header-text p-0">Single Dice: </span></p>
                        <div class="d-flex width-31">
                            <p class="flex"><span class="col red p-1 m-1 rounded-sm text-white">@_items.BetValue.Last()</span></p>
                        </div>
                        <div class="d-flex">
                            <p class="betAmount"><span class="col">@_items.BetAmount</span></p>
                            <p class="winAmount"><span class="col">@_items.WinableAmount</span></p>
                        </div>
                    </div>
                </div>
            }
            else
            {
                <div class="container triple-dice pl-1 pr-1 @(_items.BetValue == Winning_Result ? "win" : "")">
                    <div class="d-flex align-items-center">
                        <p class="flex"> <span class="col header-text p-0">Triple Dice: </span></p>
                        <div class="d-flex width-31">
                            <p class="flex"><span class="yellow p-1 m-1 rounded-sm text-white">@_items.BetValue.Substring(0, 1)</span></p>
                            <p class="flex"><span class="blue p-1 m-1 rounded-sm text-white">@_items.BetValue.Substring(1, 1)</span></p>
                            <p class="flex"><span class="red p-1 m-1 rounded-sm text-white">@_items.BetValue.Substring(2, 1)</span></p>
                        </div>
                        <div class="d-flex">
                            <p class="betAmount"><span class="col">@_items.BetAmount</span></p>
                            <p class="winAmount"><span class="col">@_items.WinableAmount</span></p>
                        </div>
                    </div>
                </div>
            }
        </Virtualize>
    }
</div>

@code {
    [Parameter] public ObservableCollection<DiceBetModel> User_PerDice_Bets { get; set; }
    [Parameter] public string FirstDice_Result { get; set; } = "";
    [Parameter] public string SecondDice_Result { get; set; } = "";
    [Parameter] public string ThirdDice_Result { get; set; } = "";
    [Parameter] public string Winning_Result { get; set; } = "";
}