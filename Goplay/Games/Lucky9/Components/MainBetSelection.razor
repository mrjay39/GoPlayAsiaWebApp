@using GoPlayAsiaWebApp.Goplay.Games.SharedCards
@using GoplayasiaBlazor.Models.Constants
@using GoPlayAsiaWebApp.Goplay.ViewModels
@using GoPlayAsiaWebApp.Goplay.Games.Shared
@inject Lucky9ViewModel luckyViewModel;

@if (BetValueDisplay == Settings.Constants.Player)
{
    @if (RoundStatusString == Settings.Constants.Open)
    {
        <!-- PLAYER REGULAR (OPEN)  -->
        <button @onclick=OnClickCallback class="@(luckyViewModel.IsFixedPlayerEnabled == false ? "DisplayerButton" : activeButtonPlayer) tieRelative borderGold btn col p-0 align-items-center" disabled="@isDisabled">
            <div class="d-flex mt-1">
                <p class="font-weight-bold p-0 col d-flex justify-content-center mt-1" style="font-size: 20px;">@BetValueDisplay</p>
            </div>

            <!-- MULTIPLIER -->
            <div class="d-flex">
                @if (ShowTotalBets)
                {
                    <div class="col pl-1 payout font-weight-bold d-flex mt-1 justify-content-end"> @SampleWinFixedPrizePlayer</div>
                }
                else
                {
                    <p style="font-size: 13px;" class="col pr-1 payout font-weight-bold d-flex mt-1 justify-content-end">195.00</p>
                    @* <p style="font-size: 13px;" class="col pr-1 payout font-weight-bold d-flex mt-1 justify-content-end @(UserTotalBet_FixedPrizePlayer != "0" ? "withBet" : "")">@FixedPricePlayerMultiplier</p> *@
                }
            </div>

            <!-- TOKEN DISPLAY -->
            <TokenDisplay Amount="@UserTotalBet_FixedPrizePlayer" />
            @if (luckyViewModel.Token_Animation != "" && luckyViewModel.CurrentGameType == (int)Settings.L9MainBetTypes.Player)
            {
                <div class="additionaltokencontainer" style="--animation: @luckyViewModel.Token_Animation">
                    <img src="/img/selectedToken.png" class="tokenSelectedBet" />
                    <p class="selectedAmountToken">@luckyViewModel.BetAmount</p>
                </div>
            }
        </button>
    }
    else
    {
        <!-- PLAYER REGULAR (CLOSE) -->
        <div class="borderGold btn col p-0 @(Settings.Constants.Player == WinnerResults ? "WinplayerButton" : (WinnerResults == "DRAW" ? "winnerTie" : "DisplayerButton"))">

            <!-- DISPLAY RESULT (CIRCLE) -->
            <div class="d-flex p-0 justify-content-center">
                <p class="font-weight-bold p-0 col d-flex justify-content-center" style="font-size: 20px;">
                    <span>@BetValueDisplay</span>
                    <span class="win-msg">WINNER</span>
                    </p>
                <p class="totalResultValue p-0 mvr-10 playerResult">@luckyViewModel.PlayerCardValue</p>
            </div>

            <!-- CARD DISPLAY -->
            <div class="mt-1">
                <div class="cardResultsPlayerContainer justify-content-center align-items-center d-flex">
                    @if (@luckyViewModel.GameResult.ValACard3 != String.Empty && @luckyViewModel.GameResult.ValACard3 != "NA" && @luckyViewModel.GameResult.ValACard3 is not null)
                    {
                        <div class="horizontalCard">
                            <MainCardViewer CardToShow="@luckyViewModel.GameResult.ValACard3" />
                        </div>
                    }
                    else if (@luckyViewModel.PreGameResult.ValACard3 != String.Empty && @luckyViewModel.PreGameResult.ValACard3 != "NA" && @luckyViewModel.PreGameResult.ValACard3 is not null)
                    {
                        <div class="horizontalCard">
                            <MainCardViewer CardToShow="@luckyViewModel.PreGameResult.ValACard3" />
                        </div>
                    }
                    else
                    {
                        <div class="horizontalCardBlank" style="background: none !important;">
                            <NoCardSelectedHorizontal CardNumber="3" />
                        </div>
                    }

                    @if (@luckyViewModel.GameResult.ValACard2 != String.Empty && @luckyViewModel.GameResult.ValACard2 != "NA" && @luckyViewModel.GameResult.ValACard2 is not null)
                    {
                        <div class="col cardResultsVertical playerCardCenter ml-2">
                            <MainCardViewer CardToShow="@luckyViewModel.GameResult.ValACard2" />
                        </div>
                    }
                    else if (@luckyViewModel.PreGameResult.ValACard2 != String.Empty && @luckyViewModel.PreGameResult.ValACard2 != "NA" && @luckyViewModel.PreGameResult.ValACard2 is not null)
                    {
                        <div class="col cardResultsVertical ml-2">
                            <MainCardViewer CardToShow="@luckyViewModel.PreGameResult.ValACard2" />
                        </div>
                    }
                    else
                    {
                        <NoCardSelected CardNumber="2" />
                    }

                    @if (@luckyViewModel.GameResult.ValACard1 != String.Empty && @luckyViewModel.GameResult.ValACard1 != "NA" && @luckyViewModel.GameResult.ValACard1 is not null)
                    {
                        <div class="col cardResultsVertical">
                            <MainCardViewer CardToShow="@luckyViewModel.GameResult.ValACard1" />
                        </div>
                    }
                    else if (@luckyViewModel.PreGameResult.ValACard1 != String.Empty && @luckyViewModel.PreGameResult.ValACard1 != "NA" && @luckyViewModel.PreGameResult.ValACard1 is not null)
                    {
                        <div class="col cardResultsVertical">
                            <MainCardViewer CardToShow="@luckyViewModel.PreGameResult.ValACard1" />
                        </div>
                    }
                    else
                    {
                        <NoCardSelected CardNumber="1" />
                    }

                    
                </div>

                    @* 
                    <div class="d-flex col p-0 justify-content-center text-center" style="max-width: 105px; margin: 0 auto">
                        <div class="d-flex align-items-center text-center">
                            <div class="d-flex justify-content-center rt-5"><p class="totalResultValue p-0 ">@luckyViewModel.PlayerCardValue</p></div>
                        </div>
                    </div>
                    *@
            </div>

            <!-- MULTIPLIER -->
            <div class="d-flex">
                @if (ShowTotalBets)
                {
                    <div class="col pl-1 payout  font-weight-bold d-flex justify-content-end">@SampleWinFixedPrizePlayer</div>
                }
                else
                {
                    <p style="font-size: 13px;" class="col pr-1 payout font-weight-bold d-flex mt-1 justify-content-end">195.00</p>
                    @* <p class="col pr-1 payout  font-weight-bold d-flex justify-content-end @(UserTotalBet_FixedPrizePlayer != "0" ? "withBet" : "")">@FixedPricePlayerMultiplier</p> *@
                }
            </div>

            <!-- TOKEN DISPLAY -->
            <TokenDisplay Amount="@UserTotalBet_FixedPrizePlayer" />
        </div>
    }

}
else if (BetValueDisplay == Settings.Constants.Banker)
{
    @if (RoundStatusString == Settings.Constants.Open)
    {
        <!-- BANKER REGULAR (OPEN) -->
        <button @onclick=OnClickCallback class="@(luckyViewModel.IsFixedBankerEnabled == false ? "DisbankerButton" : activeButtonBanker ) tieRelative borderGold btn col p-0 justify-content-center align-items-center" disabled="@isDisabled">
            <div class="d-flex mt-1">
                <p class="font-weight-bold p-0 col d-flex justify-content-center mt-1" style="font-size: 20px;">@BetValueDisplay</p>
            </div>

            <!-- MULTIPLIER -->
            <div class="d-flex">
                @if (ShowTotalBets)
                {
                    <div class="col pl-1 payout font-weight-bold d-flex mt-1 justify-content-end">@SampleWinFixedPrizeBanker</div>
                }
                else
                {
                    <p style="font-size: 13px;" class="col pr-1 payout font-weight-bold d-flex mt-1 justify-content-end">195.00</p>
                   @*  <p style="font-size: 13px;" class="col pr-1 payout font-weight-bold d-flex mt-1 justify-content-end @(UserTotalBet_FixedPrizeBanker != "0" ? "withBet" : "")">@FixedPriceBankerMultipler</p> *@
                }
            </div>

            <!-- TOKEN DISPLAY -->
            <TokenDisplay Amount="@UserTotalBet_FixedPrizeBanker" />
            @if (luckyViewModel.Token_Animation != "" && luckyViewModel.CurrentGameType == (int)Settings.L9MainBetTypes.Banker)
            {
                <div class="additionaltokencontainerBanker" style="--animation: @luckyViewModel.Token_Animation">
                    <img src="/img/selectedToken.png" class="tokenSelectedBet" />
                    <p class="selectedAmountToken">@luckyViewModel.BetAmount</p>
                </div>
            }
        </button>
    }
    else
    {
        <!-- BANKER REGULAR (CLOSE) -->
        <div class="borderGold btn col p-0 tieRelative @(Settings.Constants.Banker == WinnerResults ? "WinbankerButton" : (WinnerResults =="DRAW" ?  "winnerTie" : "DisplayerButton"))">

            <div class="d-flex p-0 justify-content-center">
                <p class="font-weight-bold p-0 col justify-content-center" style="font-size: 20px;">
                    <span> @BetValueDisplay</span>
                    <span class="win-msg">WINNER</span>
                </p>
                <p class="totalResultValue p-0 mvr-10 bankerResult">@luckyViewModel.BankerCardValue</p>
            </div>

            <!-- CARD DISPLAY -->
            <div class="mt-1">
                <div class="cardResultsBankerContainer  justify-content-center align-items-center d-flex">
                        @if (@luckyViewModel.GameResult.ValBCard1 != String.Empty && @luckyViewModel.GameResult.ValBCard1 != "NA" && @luckyViewModel.GameResult.ValBCard1 is not null)
                        {
                            <div class="col cardResultsVertical">
                                <MainCardViewer CardToShow="@luckyViewModel.GameResult.ValBCard1" />
                            </div>
                        }
                        else if (@luckyViewModel.PreGameResult.ValBCard1 != String.Empty && @luckyViewModel.PreGameResult.ValBCard1 != "NA" && @luckyViewModel.PreGameResult.ValBCard1 is not null)
                        {
                            <div class="col cardResultsVertical">
                                <MainCardViewer CardToShow="@luckyViewModel.PreGameResult.ValBCard1" />
                            </div>
                        }
                        else
                        {
                            <NoCardSelected CardNumber="1" />
                        }

                        @if (@luckyViewModel.GameResult.ValBCard2 != String.Empty && @luckyViewModel.GameResult.ValBCard2 != "NA" && @luckyViewModel.GameResult.ValBCard2 is not null)
                        {
                            <div class="col cardResultsVertical bankerCardCenter mr-2">
                                <MainCardViewer CardToShow="@luckyViewModel.GameResult.ValBCard2" />
                            </div>
                        }
                        else if (@luckyViewModel.PreGameResult.ValBCard2 != String.Empty && @luckyViewModel.PreGameResult.ValBCard2 != "NA" && @luckyViewModel.PreGameResult.ValBCard2 is not null)
                        {
                            <div class="col cardResultsVertical mr-2">
                                <MainCardViewer CardToShow="@luckyViewModel.PreGameResult.ValBCard2" />
                            </div>
                        }
                        else
                        {
                            <NoCardSelected CardNumber="2" />
                        }

                        @if (@luckyViewModel.GameResult.ValBCard3 != String.Empty && @luckyViewModel.GameResult.ValBCard3 != "NA" && @luckyViewModel.GameResult.ValBCard3 is not null)
                        {
                            <div class=" horizontalCardBanker">
                                <MainCardViewer CardToShow="@luckyViewModel.GameResult.ValBCard3" />
                            </div>
                        }
                        else if (@luckyViewModel.PreGameResult.ValBCard3 != String.Empty && @luckyViewModel.PreGameResult.ValBCard3 != "NA" && @luckyViewModel.PreGameResult.ValBCard3 is not null)
                        {
                            <div class="  horizontalCardBanker">
                                <MainCardViewer CardToShow="@luckyViewModel.PreGameResult.ValBCard3" />
                            </div>
                        }
                        else
                        {
                            <div class="horizontalCardBlankBanker" style="background: none !important;">

                                <NoCardSelectedHorizontal CardNumber="3" />
                            </div>
                        }
                </div>
                    @*  
                    <div class="d-flex justify-content-center col p-0" style="max-width: 105px; margin: 0 auto">
                        <div class="col p-0 d-flex align-items-center justify-content-center text-center">
                            <div class="d-flex justify-content-center  rt-5"> <p class="totalResultValue p-0">@luckyViewModel.BankerCardValue</p></div>
                        </div>
                    </div>
                    *@
            </div>

            <!-- MULTIPLIER -->
            <div class="d-flex">

                @if (ShowTotalBets)
                {
                    <div class="col p-0 payout font-weight-bold d-flex justify-content-end"> @SampleWinFixedPrizeBanker</div>
                }
                else
                {
                    <p style="font-size: 13px;" class="col pr-1 payout font-weight-bold d-flex mt-1 justify-content-end">195.00</p>
                    @* <p class="col p-0 payout font-weight-bold d-flex justify-content-end @(UserTotalBet_FixedPrizeBanker != "0" ? "withBet" : "") ">@FixedPriceBankerMultipler</p> *@
                }
            </div>

            <!-- TOKEN DISPLAY -->
            <TokenDisplay Amount="@UserTotalBet_FixedPrizeBanker" />
        </div>
    }
}

