@using GoPlayAsiaWebApp.Shared

@inject NavigationManager navMan


<CascadingAuthenticationState>
    <CascadingBlazoredModal ActivateFocusTrap="false" DisableBackgroundCancel="true" Size="ModalSize.Large" HideHeader="true" Position="ModalPosition.Middle" OverlayCustomClass="bg-modal-overlay" Class="gpabm-modal" AnimationType="ModalAnimationType.None">

            <Router AppAssembly="@typeof(App).Assembly">
                <Found Context="routeData">
                    <AuthorizeRouteView RouteData="@routeData" DefaultLayout="@typeof(MainLayout)">
                        <Authorizing>
                            <Authorizing></Authorizing>
                        </Authorizing>
                        <NotAuthorized>
                            @*Sorry, unauthorized.*@
                            @try
                            {

                                @if (true) { navMan.NavigateTo("/"); }
                            }
                            catch (Exception)
                            {


                            }
                        </NotAuthorized>
                    </AuthorizeRouteView>
                    <FocusOnNavigate RouteData="@routeData" Selector="h1" />
                </Found>
                <NotFound>
                    @try
                    {

                        @if (true) { navMan.NavigateTo("/"); }
                    }
                    catch (Exception)
                    {


                    }
                    @*<PageTitle>Not found</PageTitle>
                    <LayoutView Layout="@typeof(MainLayout)">
                    @if (true) { navMan.NavigateTo("/"); }
                    </LayoutView>*@
                </NotFound>
            </Router>

    </CascadingBlazoredModal>
</CascadingAuthenticationState>
